<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>编译 hadoop-1.2.1 eclipse 插件 | 比不写强</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">编译 hadoop-1.2.1 eclipse 插件</h1><a id="logo" href="/.">比不写强</a><p class="description">Java 编程相关</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/read/"><i class="fa fa-tags"> 阅读</i></a><a href="/guitar/"><i class="fa fa-music"> 吉他屋</i></a><a href="/tags/"><i class="fa fa-tags"> 标签</i></a><a href="/history/"><i class="fa fa-tags"> 历史</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">编译 hadoop-1.2.1 eclipse 插件</h1><div class="post-meta">Jul 16, 2016<span> | </span><span class="category"><a href="/categories/大数据/">大数据</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span><span> | </span><span class="tag"><i class="fa fa-paperclip">&nbsp;</i><a href="/tags/Hadoop/">Hadoop</a></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-安装"><span class="toc-number">1.</span> <span class="toc-text">1. 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-下载和解压"><span class="toc-number">2.</span> <span class="toc-text">1.1 下载和解压</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-修改配置文件"><span class="toc-number">3.</span> <span class="toc-text">2. 修改配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-hadoop-1-2-1-src-contrib-eclipse-plugin-build-xml"><span class="toc-number">3.1.</span> <span class="toc-text">2.1 hadoop-1.2.1\src\contrib\eclipse-plugin\build.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-hadoop-1-2-1-src-contrib-build-contrib-xml"><span class="toc-number">3.2.</span> <span class="toc-text">2.2 hadoop-1.2.1\src\contrib\build-contrib.xml</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-hadoop-1-2-1-src-contrib-eclipse-plugin-META-INF-MANIFEST-MF"><span class="toc-number">3.3.</span> <span class="toc-text">2.3 hadoop-1.2.1\src\contrib\eclipse-plugin\META-INF\MANIFEST.MF</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-编译"><span class="toc-number">4.</span> <span class="toc-text">3. 编译</span></a></li></ol></div></div><div class="post-content"><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h3><p>需要安装 ant 环境，Ubuntu 默认已经安装了 ant ，如果没有，执行下面命令安装。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install ant</div></pre></td></tr></table></figure></p>
<h3 id="1-1-下载和解压"><a href="#1-1-下载和解压" class="headerlink" title="1.1 下载和解压"></a>1.1 下载和解压</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget https://archive.apache.org/dist/hadoop/common/hadoop-1.2.1/hadoop-1.2.1.tar.gz</div><div class="line">tar -zxf hadoop-1.2.1.tar.gz</div></pre></td></tr></table></figure>
<h3 id="2-修改配置文件"><a href="#2-修改配置文件" class="headerlink" title="2. 修改配置文件"></a>2. 修改配置文件</h3><h4 id="2-1-hadoop-1-2-1-src-contrib-eclipse-plugin-build-xml"><a href="#2-1-hadoop-1-2-1-src-contrib-eclipse-plugin-build-xml" class="headerlink" title="2.1 hadoop-1.2.1\src\contrib\eclipse-plugin\build.xml"></a>2.1 <strong>hadoop-1.2.1\src\contrib\eclipse-plugin\build.xml</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</div><div class="line"></div><div class="line">&lt;!--</div><div class="line">   Licensed to the Apache Software Foundation (ASF) under one or more</div><div class="line">   contributor license agreements.  See the NOTICE file distributed with</div><div class="line">   this work for additional information regarding copyright ownership.</div><div class="line">   The ASF licenses this file to You under the Apache License, Version 2.0</div><div class="line">   (the &quot;License&quot;); you may not use this file except in compliance with</div><div class="line">   the License.  You may obtain a copy of the License at</div><div class="line"></div><div class="line">       http://www.apache.org/licenses/LICENSE-2.0</div><div class="line"></div><div class="line">   Unless required by applicable law or agreed to in writing, software</div><div class="line">   distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</div><div class="line">   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</div><div class="line">   See the License for the specific language governing permissions and</div><div class="line">   limitations under the License.</div><div class="line">--&gt;</div><div class="line"></div><div class="line">&lt;project default=&quot;jar&quot; name=&quot;eclipse-plugin&quot;&gt;</div><div class="line"></div><div class="line">  &lt;import file=&quot;../build-contrib.xml&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;path id=&quot;eclipse-sdk-jars&quot;&gt;</div><div class="line">    &lt;fileset dir=&quot;$&#123;eclipse.home&#125;/plugins/&quot;&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.ui*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.jdt*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.core*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.equinox*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.debug*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.osgi*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.swt*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;org.eclipse.jface*.jar&quot;/&gt;</div><div class="line"></div><div class="line">      &lt;include name=&quot;org.eclipse.team.cvs.ssh2*.jar&quot;/&gt;</div><div class="line">      &lt;include name=&quot;com.jcraft.jsch*.jar&quot;/&gt;</div><div class="line">    &lt;/fileset&gt;</div><div class="line">  &lt;/path&gt;</div><div class="line"></div><div class="line">  &lt;!-- Override classpath to include Eclipse SDK jars --&gt;</div><div class="line">  &lt;path id=&quot;classpath&quot;&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;build.classes&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build/classes&quot;/&gt;</div><div class="line">    &lt;path refid=&quot;eclipse-sdk-jars&quot;/&gt;</div><div class="line">     &lt;fileset dir=&quot;$&#123;hadoop.root&#125;/&quot;&gt;</div><div class="line">      &lt;include name=&quot;*.jar&quot;/&gt;</div><div class="line">&lt;/fileset&gt;</div><div class="line">  &lt;/path&gt;</div><div class="line"></div><div class="line">  &lt;!-- Skip building if eclipse.home is unset. --&gt;</div><div class="line">  &lt;target name=&quot;check-contrib&quot; unless=&quot;eclipse.home&quot;&gt;</div><div class="line">    &lt;property name=&quot;skip.contrib&quot; value=&quot;yes&quot;/&gt;</div><div class="line">    &lt;echo message=&quot;eclipse.home unset: skipping eclipse plugin&quot;/&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">&lt;target name=&quot;compile&quot; depends=&quot;init, ivy-retrieve-common&quot; unless=&quot;skip.contrib&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;javac</div><div class="line">     encoding=&quot;$&#123;build.encoding&#125;&quot;</div><div class="line">     srcdir=&quot;$&#123;src.dir&#125;&quot;</div><div class="line">     includes=&quot;**/*.java&quot;</div><div class="line">     destdir=&quot;$&#123;build.classes&#125;&quot;</div><div class="line">     debug=&quot;$&#123;javac.debug&#125;&quot;</div><div class="line">     deprecation=&quot;$&#123;javac.deprecation&#125;&quot;&gt;</div><div class="line">     &lt;classpath refid=&quot;classpath&quot;/&gt;</div><div class="line">    &lt;/javac&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;!-- Override jar target to specify manifest --&gt;</div><div class="line">  &lt;target name=&quot;jar&quot; depends=&quot;compile&quot; unless=&quot;skip.contrib&quot;&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;build.dir&#125;/lib&quot;/&gt;</div><div class="line">     &lt;!--</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/build/hadoop-core-$&#123;version&#125;.jar&quot; tofile=&quot;$&#123;build.dir&#125;/lib/hadoop-core.jar&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/build/ivy/lib/Hadoop/common/commons-cli-$&#123;commons-cli.version&#125;.jar&quot;  todir=&quot;$&#123;build.dir&#125;/lib&quot; verbose=&quot;true&quot;/&gt;--&gt;</div><div class="line">     &lt;copy file=&quot;$&#123;hadoop.root&#125;/hadoop-core-$&#123;version&#125;.jar&quot; tofile=&quot;$&#123;build.dir&#125;/lib/hadoop-core.jar&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/lib/commons-cli-1.2.jar&quot;  todir=&quot;$&#123;build.dir&#125;/lib&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/lib/commons-lang-2.4.jar&quot;  todir=&quot;$&#123;build.dir&#125;/lib&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/lib/commons-configuration-1.6.jar&quot;  todir=&quot;$&#123;build.dir&#125;/lib&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/lib/jackson-mapper-asl-1.8.8.jar&quot;  todir=&quot;$&#123;build.dir&#125;/lib&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/lib/jackson-core-asl-1.8.8.jar&quot;  todir=&quot;$&#123;build.dir&#125;/lib&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;copy file=&quot;$&#123;hadoop.root&#125;/lib/commons-httpclient-3.0.1.jar&quot;  todir=&quot;$&#123;build.dir&#125;/lib&quot; verbose=&quot;true&quot;/&gt;</div><div class="line">    &lt;jar</div><div class="line">      jarfile=&quot;$&#123;build.dir&#125;/hadoop-$&#123;name&#125;-$&#123;version&#125;.jar&quot;</div><div class="line">      manifest=&quot;$&#123;root&#125;/META-INF/MANIFEST.MF&quot;&gt;</div><div class="line">      &lt;fileset dir=&quot;$&#123;build.dir&#125;&quot; includes=&quot;classes/ lib/&quot;/&gt;</div><div class="line">      &lt;fileset dir=&quot;$&#123;root&#125;&quot; includes=&quot;resources/ plugin.xml&quot;/&gt;</div><div class="line">    &lt;/jar&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">&lt;/project&gt;</div></pre></td></tr></table></figure>
<h4 id="2-2-hadoop-1-2-1-src-contrib-build-contrib-xml"><a href="#2-2-hadoop-1-2-1-src-contrib-build-contrib-xml" class="headerlink" title="2.2 hadoop-1.2.1\src\contrib\build-contrib.xml"></a>2.2 <strong>hadoop-1.2.1\src\contrib\build-contrib.xml</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</div><div class="line"></div><div class="line">&lt;!--</div><div class="line">   Licensed to the Apache Software Foundation (ASF) under one or more</div><div class="line">   contributor license agreements.  See the NOTICE file distributed with</div><div class="line">   this work for additional information regarding copyright ownership.</div><div class="line">   The ASF licenses this file to You under the Apache License, Version 2.0</div><div class="line">   (the &quot;License&quot;); you may not use this file except in compliance with</div><div class="line">   the License.  You may obtain a copy of the License at</div><div class="line"></div><div class="line">       http://www.apache.org/licenses/LICENSE-2.0</div><div class="line"></div><div class="line">   Unless required by applicable law or agreed to in writing, software</div><div class="line">   distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</div><div class="line">   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</div><div class="line">   See the License for the specific language governing permissions and</div><div class="line">   limitations under the License.</div><div class="line">--&gt;</div><div class="line"></div><div class="line">&lt;!-- Imported by contrib/*/build.xml files to share generic targets. --&gt;</div><div class="line"></div><div class="line">&lt;project name=&quot;hadoopbuildcontrib&quot; xmlns:ivy=&quot;antlib:org.apache.ivy.ant&quot;&gt;</div><div class="line"></div><div class="line">  &lt;property name=&quot;name&quot; value=&quot;$&#123;ant.project.name&#125;&quot;/&gt;</div><div class="line">  &lt;property name=&quot;root&quot; value=&quot;$&#123;basedir&#125;&quot;/&gt;</div><div class="line">  &lt;property name=&quot;version&quot; value=&quot;1.2.1&quot;/&gt;</div><div class="line">  &lt;property name=&quot;ivy.version&quot; value=&quot;2.1.0&quot;/&gt;</div><div class="line">  &lt;property name=&quot;eclipse.home&quot; location=&quot;D:/Program Files/eclipse-jee-indigo-SR2-win32-x86_64&quot;/&gt;</div><div class="line">  &lt;property name=&quot;hadoop.root&quot; location=&quot;D:/hadoop/hadoop-1.2.1&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!-- Load all the default properties, and any the user wants    --&gt;</div><div class="line">  &lt;!-- to contribute (without having to type -D or edit this file --&gt;</div><div class="line">  &lt;property file=&quot;$&#123;user.home&#125;/$&#123;name&#125;.build.properties&quot; /&gt;</div><div class="line">  &lt;property file=&quot;$&#123;root&#125;/build.properties&quot; /&gt;</div><div class="line">  &lt;property file=&quot;$&#123;hadoop.root&#125;/build.properties&quot; /&gt;</div><div class="line"></div><div class="line">  &lt;property name=&quot;src.dir&quot;  location=&quot;$&#123;root&#125;/src/java&quot;/&gt;</div><div class="line">  &lt;property name=&quot;src.test&quot; location=&quot;$&#123;root&#125;/src/test&quot;/&gt;</div><div class="line">  &lt;property name=&quot;src.test.data&quot; location=&quot;$&#123;root&#125;/src/test/data&quot;/&gt;</div><div class="line">  &lt;!-- Property added for contrib system tests --&gt;</div><div class="line">  &lt;property name=&quot;build-fi.dir&quot; location=&quot;$&#123;hadoop.root&#125;/build-fi&quot;/&gt;</div><div class="line">  &lt;property name=&quot;system-test-build-dir&quot; location=&quot;$&#123;build-fi.dir&#125;/system&quot;/&gt;</div><div class="line">  &lt;property name=&quot;src.test.system&quot; location=&quot;$&#123;root&#125;/src/test/system&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;property name=&quot;src.examples&quot; location=&quot;$&#123;root&#125;/src/examples&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;available file=&quot;$&#123;src.examples&#125;&quot; type=&quot;dir&quot; property=&quot;examples.available&quot;/&gt;</div><div class="line">  &lt;available file=&quot;$&#123;src.test&#125;&quot; type=&quot;dir&quot; property=&quot;test.available&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!-- Property added for contrib system tests --&gt;</div><div class="line">  &lt;available file=&quot;$&#123;src.test.system&#125;&quot; type=&quot;dir&quot;</div><div class="line">      property=&quot;test.system.available&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;property name=&quot;conf.dir&quot; location=&quot;$&#123;hadoop.root&#125;/conf&quot;/&gt;</div><div class="line">  &lt;property name=&quot;test.junit.output.format&quot; value=&quot;plain&quot;/&gt;</div><div class="line">  &lt;property name=&quot;test.output&quot; value=&quot;no&quot;/&gt;</div><div class="line">  &lt;property name=&quot;test.timeout&quot; value=&quot;900000&quot;/&gt;</div><div class="line">  &lt;property name=&quot;build.contrib.dir&quot; location=&quot;$&#123;hadoop.root&#125;/build/contrib&quot;/&gt;</div><div class="line">  &lt;property name=&quot;build.dir&quot; location=&quot;$&#123;hadoop.root&#125;/build/contrib/$&#123;name&#125;&quot;/&gt;</div><div class="line">  &lt;property name=&quot;build.classes&quot; location=&quot;$&#123;build.dir&#125;/classes&quot;/&gt;</div><div class="line">  &lt;property name=&quot;build.test&quot; location=&quot;$&#123;build.dir&#125;/test&quot;/&gt;</div><div class="line">  &lt;property name=&quot;build.examples&quot; location=&quot;$&#123;build.dir&#125;/examples&quot;/&gt;</div><div class="line">  &lt;property name=&quot;hadoop.log.dir&quot; location=&quot;$&#123;build.dir&#125;/test/logs&quot;/&gt;</div><div class="line">  &lt;!-- all jars together --&gt;</div><div class="line">  &lt;property name=&quot;javac.deprecation&quot; value=&quot;off&quot;/&gt;</div><div class="line">  &lt;property name=&quot;javac.debug&quot; value=&quot;on&quot;/&gt;</div><div class="line">  &lt;property name=&quot;build.ivy.lib.dir&quot; value=&quot;$&#123;hadoop.root&#125;/build/ivy/lib&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;property name=&quot;javadoc.link&quot;</div><div class="line">            value=&quot;http://java.sun.com/j2se/1.4/docs/api/&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;property name=&quot;build.encoding&quot; value=&quot;ISO-8859-1&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;fileset id=&quot;lib.jars&quot; dir=&quot;$&#123;root&#125;&quot; includes=&quot;lib/*.jar&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!-- Property added for contrib system tests --&gt;</div><div class="line">  &lt;property name=&quot;build.test.system&quot; location=&quot;$&#123;build.dir&#125;/system&quot;/&gt;</div><div class="line">  &lt;property name=&quot;build.system.classes&quot;</div><div class="line">      location=&quot;$&#123;build.test.system&#125;/classes&quot;/&gt;</div><div class="line"></div><div class="line">   &lt;!-- IVY properties set here --&gt;</div><div class="line">  &lt;property name=&quot;ivy.dir&quot; location=&quot;ivy&quot; /&gt;</div><div class="line">  &lt;!-- loglevel take values like default|download-only|quiet --&gt;</div><div class="line">  &lt;property name=&quot;loglevel&quot; value=&quot;quiet&quot;/&gt;</div><div class="line">  &lt;property name=&quot;ivysettings.xml&quot; location=&quot;$&#123;hadoop.root&#125;/ivy/ivysettings.xml&quot;/&gt;</div><div class="line">  &lt;loadproperties srcfile=&quot;$&#123;ivy.dir&#125;/libraries.properties&quot;/&gt;</div><div class="line">  &lt;loadproperties srcfile=&quot;$&#123;hadoop.root&#125;/ivy/libraries.properties&quot;/&gt;</div><div class="line">  &lt;property name=&quot;ivy.jar&quot; location=&quot;$&#123;hadoop.root&#125;/ivy/ivy-$&#123;ivy.version&#125;.jar&quot;/&gt;</div><div class="line">  &lt;property name=&quot;ivy_repo_url&quot;</div><div class="line">     value=&quot;http://repo2.maven.org/maven2/org/apache/ivy/ivy/$&#123;ivy.version&#125;/ivy-$&#123;ivy.version&#125;.jar&quot; /&gt;</div><div class="line">  &lt;property name=&quot;build.dir&quot; location=&quot;build&quot; /&gt;</div><div class="line">  &lt;property name=&quot;build.ivy.dir&quot; location=&quot;$&#123;build.dir&#125;/ivy&quot; /&gt;</div><div class="line">  &lt;property name=&quot;build.ivy.lib.dir&quot; location=&quot;$&#123;build.ivy.dir&#125;/lib&quot; /&gt;</div><div class="line">  &lt;property name=&quot;build.ivy.report.dir&quot; location=&quot;$&#123;build.ivy.dir&#125;/report&quot; /&gt;</div><div class="line">  &lt;property name=&quot;common.ivy.lib.dir&quot; location=&quot;$&#123;build.ivy.lib.dir&#125;/$&#123;ant.project.name&#125;/common&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!--this is the naming policy for artifacts we want pulled down--&gt;</div><div class="line">  &lt;property name=&quot;ivy.artifact.retrieve.pattern&quot;</div><div class="line">                   value=&quot;$&#123;ant.project.name&#125;/[conf]/[artifact]-[revision].[ext]&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!-- the normal classpath --&gt;</div><div class="line">  &lt;path id=&quot;contrib-classpath&quot;&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;build.classes&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build/tools&quot;/&gt;</div><div class="line">    &lt;fileset refid=&quot;lib.jars&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build/classes&quot;/&gt;</div><div class="line">    &lt;fileset dir=&quot;$&#123;hadoop.root&#125;/lib&quot;&gt;</div><div class="line">      &lt;include name=&quot;**/*.jar&quot; /&gt;</div><div class="line">    &lt;/fileset&gt;</div><div class="line">    &lt;path refid=&quot;$&#123;ant.project.name&#125;.common-classpath&quot;/&gt;</div><div class="line">    &lt;pathelement path=&quot;$&#123;clover.jar&#125;&quot;/&gt;</div><div class="line">  &lt;/path&gt;</div><div class="line"></div><div class="line">  &lt;!-- the unit test classpath --&gt;</div><div class="line">  &lt;path id=&quot;test.classpath&quot;&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;build.test&#125;&quot; /&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build/test/classes&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/src/contrib/test&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;conf.dir&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;build.examples&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build/examples&quot;/&gt;</div><div class="line">    &lt;path refid=&quot;contrib-classpath&quot;/&gt;</div><div class="line">  &lt;/path&gt;</div><div class="line"></div><div class="line">  &lt;!-- The system test classpath --&gt;</div><div class="line">  &lt;path id=&quot;test.system.classpath&quot;&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/src/contrib/$&#123;name&#125;/src/test/system&quot; /&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;build.test.system&#125;&quot; /&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;build.test.system&#125;/classes&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;build.examples&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build-fi/system/classes&quot; /&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build-fi/system/test/classes&quot; /&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build-fi&quot; /&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build-fi/tools&quot; /&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.home&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.conf.dir&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.conf.dir.deployed&#125;&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build/examples&quot;/&gt;</div><div class="line">    &lt;pathelement location=&quot;$&#123;hadoop.root&#125;/build-fi/test/classes&quot; /&gt;</div><div class="line">    &lt;path refid=&quot;contrib-classpath&quot;/&gt;</div><div class="line">    &lt;fileset dir=&quot;$&#123;hadoop.root&#125;/src/test/lib&quot;&gt;</div><div class="line">      &lt;include name=&quot;**/*.jar&quot; /&gt;</div><div class="line">      &lt;exclude name=&quot;**/excluded/&quot; /&gt;</div><div class="line">    &lt;/fileset&gt;</div><div class="line">    &lt;fileset dir=&quot;$&#123;hadoop.root&#125;/build-fi/system&quot;&gt;</div><div class="line">       &lt;include name=&quot;**/*.jar&quot; /&gt;</div><div class="line">       &lt;exclude name=&quot;**/excluded/&quot; /&gt;</div><div class="line">     &lt;/fileset&gt;</div><div class="line">    &lt;fileset dir=&quot;$&#123;hadoop.root&#125;/build-fi/test/testjar&quot;&gt;</div><div class="line">      &lt;include name=&quot;**/*.jar&quot; /&gt;</div><div class="line">      &lt;exclude name=&quot;**/excluded/&quot; /&gt;</div><div class="line">    &lt;/fileset&gt;</div><div class="line">    &lt;fileset dir=&quot;$&#123;hadoop.root&#125;/build/contrib/$&#123;name&#125;&quot;&gt;</div><div class="line">      &lt;include name=&quot;**/*.jar&quot; /&gt;</div><div class="line">      &lt;exclude name=&quot;**/excluded/&quot; /&gt;</div><div class="line">    &lt;/fileset&gt;</div><div class="line">  &lt;/path&gt;</div><div class="line"></div><div class="line">  &lt;!-- to be overridden by sub-projects --&gt;</div><div class="line">  &lt;target name=&quot;check-contrib&quot;/&gt;</div><div class="line">  &lt;target name=&quot;init-contrib&quot;/&gt;</div><div class="line"></div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;!-- Stuff needed by all targets                            --&gt;</div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;target name=&quot;init&quot; depends=&quot;check-contrib&quot; unless=&quot;skip.contrib&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;build.dir&#125;&quot;/&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;build.classes&#125;&quot;/&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;build.test&#125;&quot;/&gt;</div><div class="line">    &lt;!-- The below two tags  added for contrib system tests --&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;build.test.system&#125;&quot;/&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;build.system.classes&#125;&quot;/&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;build.examples&#125;&quot;/&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;hadoop.log.dir&#125;&quot;/&gt;</div><div class="line">    &lt;antcall target=&quot;init-contrib&quot;/&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line"></div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;!-- Compile a Hadoop contrib&apos;s files                       --&gt;</div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;target name=&quot;compile&quot; depends=&quot;init, ivy-retrieve-common&quot; unless=&quot;skip.contrib&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;javac</div><div class="line">     encoding=&quot;$&#123;build.encoding&#125;&quot;</div><div class="line">     srcdir=&quot;$&#123;src.dir&#125;&quot;</div><div class="line">     includes=&quot;**/*.java&quot;</div><div class="line">     destdir=&quot;$&#123;build.classes&#125;&quot;</div><div class="line">     debug=&quot;$&#123;javac.debug&#125;&quot;</div><div class="line">     deprecation=&quot;$&#123;javac.deprecation&#125;&quot;&gt;</div><div class="line">     &lt;classpath refid=&quot;contrib-classpath&quot;/&gt;</div><div class="line">    &lt;/javac&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line"></div><div class="line">  &lt;!-- ======================================================= --&gt;</div><div class="line">  &lt;!-- Compile a Hadoop contrib&apos;s example files (if available) --&gt;</div><div class="line">  &lt;!-- ======================================================= --&gt;</div><div class="line">  &lt;target name=&quot;compile-examples&quot; depends=&quot;compile&quot; if=&quot;examples.available&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;javac</div><div class="line">     encoding=&quot;$&#123;build.encoding&#125;&quot;</div><div class="line">     srcdir=&quot;$&#123;src.examples&#125;&quot;</div><div class="line">     includes=&quot;**/*.java&quot;</div><div class="line">     destdir=&quot;$&#123;build.examples&#125;&quot;</div><div class="line">     debug=&quot;$&#123;javac.debug&#125;&quot;&gt;</div><div class="line">     &lt;classpath refid=&quot;contrib-classpath&quot;/&gt;</div><div class="line">    &lt;/javac&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line"></div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;!-- Compile test code                                                  --&gt;</div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;target name=&quot;compile-test&quot; depends=&quot;compile-examples&quot; if=&quot;test.available&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;javac</div><div class="line">     encoding=&quot;$&#123;build.encoding&#125;&quot;</div><div class="line">     srcdir=&quot;$&#123;src.test&#125;&quot;</div><div class="line">     includes=&quot;**/*.java&quot;</div><div class="line">     excludes=&quot;system/**/*.java&quot;</div><div class="line">     destdir=&quot;$&#123;build.test&#125;&quot;</div><div class="line">     debug=&quot;$&#123;javac.debug&#125;&quot;&gt;</div><div class="line">    &lt;classpath refid=&quot;test.classpath&quot;/&gt;</div><div class="line">    &lt;/javac&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;!-- Compile system test code                                           --&gt;</div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;target name=&quot;compile-test-system&quot; depends=&quot;compile-examples&quot;</div><div class="line">     if=&quot;test.system.available&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;javac</div><div class="line">       encoding=&quot;$&#123;build.encoding&#125;&quot;</div><div class="line">       srcdir=&quot;$&#123;src.test.system&#125;&quot;</div><div class="line">       includes=&quot;**/*.java&quot;</div><div class="line">       destdir=&quot;$&#123;build.system.classes&#125;&quot;</div><div class="line">       debug=&quot;$&#123;javac.debug&#125;&quot;&gt;</div><div class="line">      &lt;classpath refid=&quot;test.system.classpath&quot;/&gt;</div><div class="line">    &lt;/javac&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;!-- Make a Hadoop contrib&apos;s jar                            --&gt;</div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;target name=&quot;jar&quot; depends=&quot;compile&quot; unless=&quot;skip.contrib&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;jar</div><div class="line">      jarfile=&quot;$&#123;build.dir&#125;/hadoop-$&#123;name&#125;-$&#123;version&#125;.jar&quot;</div><div class="line">      basedir=&quot;$&#123;build.classes&#125;&quot;     </div><div class="line">    /&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line"></div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;!-- Make a Hadoop contrib&apos;s examples jar                   --&gt;</div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;target name=&quot;jar-examples&quot; depends=&quot;compile-examples&quot;</div><div class="line">          if=&quot;examples.available&quot; unless=&quot;skip.contrib&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;jar jarfile=&quot;$&#123;build.dir&#125;/hadoop-$&#123;name&#125;-examples-$&#123;version&#125;.jar&quot;&gt;</div><div class="line">      &lt;fileset dir=&quot;$&#123;build.classes&#125;&quot;&gt;</div><div class="line">      &lt;/fileset&gt;</div><div class="line">      &lt;fileset dir=&quot;$&#123;build.examples&#125;&quot;&gt;</div><div class="line">      &lt;/fileset&gt;</div><div class="line">    &lt;/jar&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;!-- Package a Hadoop contrib                               --&gt;</div><div class="line">  &lt;!-- ====================================================== --&gt;</div><div class="line">  &lt;target name=&quot;package&quot; depends=&quot;jar, jar-examples&quot; unless=&quot;skip.contrib&quot;&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;dist.dir&#125;/contrib/$&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;copy todir=&quot;$&#123;dist.dir&#125;/contrib/$&#123;name&#125;&quot; includeEmptyDirs=&quot;false&quot; flatten=&quot;true&quot;&gt;</div><div class="line">      &lt;fileset dir=&quot;$&#123;build.dir&#125;&quot;&gt;</div><div class="line">        &lt;include name=&quot;hadoop-$&#123;name&#125;-$&#123;version&#125;.jar&quot; /&gt;</div><div class="line">      &lt;/fileset&gt;</div><div class="line">    &lt;/copy&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;!-- Run unit tests                                                     --&gt;</div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;target name=&quot;test&quot; depends=&quot;compile-test, compile&quot; if=&quot;test.available&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;delete dir=&quot;$&#123;hadoop.log.dir&#125;&quot;/&gt;</div><div class="line">    &lt;mkdir dir=&quot;$&#123;hadoop.log.dir&#125;&quot;/&gt;</div><div class="line">    &lt;junit</div><div class="line">      printsummary=&quot;yes&quot; showoutput=&quot;$&#123;test.output&#125;&quot;</div><div class="line">      haltonfailure=&quot;no&quot; fork=&quot;yes&quot; maxmemory=&quot;512m&quot;</div><div class="line">      errorProperty=&quot;tests.failed&quot; failureProperty=&quot;tests.failed&quot;</div><div class="line">      timeout=&quot;$&#123;test.timeout&#125;&quot;&gt;</div><div class="line"></div><div class="line">      &lt;sysproperty key=&quot;test.build.data&quot; value=&quot;$&#123;build.test&#125;/data&quot;/&gt;</div><div class="line">      &lt;sysproperty key=&quot;build.test&quot; value=&quot;$&#123;build.test&#125;&quot;/&gt;</div><div class="line">      &lt;sysproperty key=&quot;src.test.data&quot; value=&quot;$&#123;src.test.data&#125;&quot;/&gt;</div><div class="line">      &lt;sysproperty key=&quot;contrib.name&quot; value=&quot;$&#123;name&#125;&quot;/&gt;</div><div class="line"></div><div class="line">      &lt;!-- requires fork=yes for:</div><div class="line">        relative File paths to use the specified user.dir</div><div class="line">        classpath to use build/contrib/*.jar</div><div class="line">      --&gt;</div><div class="line">      &lt;sysproperty key=&quot;user.dir&quot; value=&quot;$&#123;build.test&#125;/data&quot;/&gt;</div><div class="line"></div><div class="line">      &lt;sysproperty key=&quot;fs.default.name&quot; value=&quot;$&#123;fs.default.name&#125;&quot;/&gt;</div><div class="line">      &lt;sysproperty key=&quot;hadoop.test.localoutputfile&quot; value=&quot;$&#123;hadoop.test.localoutputfile&#125;&quot;/&gt;</div><div class="line">      &lt;sysproperty key=&quot;hadoop.log.dir&quot; value=&quot;$&#123;hadoop.log.dir&#125;&quot;/&gt;</div><div class="line">      &lt;sysproperty key=&quot;taskcontroller-path&quot; value=&quot;$&#123;taskcontroller-path&#125;&quot;/&gt;</div><div class="line">      &lt;sysproperty key=&quot;taskcontroller-ugi&quot; value=&quot;$&#123;taskcontroller-ugi&#125;&quot;/&gt;</div><div class="line">      &lt;classpath refid=&quot;test.classpath&quot;/&gt;</div><div class="line">      &lt;formatter type=&quot;$&#123;test.junit.output.format&#125;&quot; /&gt;</div><div class="line">      &lt;batchtest todir=&quot;$&#123;build.test&#125;&quot; unless=&quot;testcase&quot;&gt;</div><div class="line">        &lt;fileset dir=&quot;$&#123;src.test&#125;&quot;</div><div class="line">                 includes=&quot;**/Test*.java&quot; excludes=&quot;**/$&#123;test.exclude&#125;.java, system/**/*.java&quot; /&gt;</div><div class="line">      &lt;/batchtest&gt;</div><div class="line">      &lt;batchtest todir=&quot;$&#123;build.test&#125;&quot; if=&quot;testcase&quot;&gt;</div><div class="line">        &lt;fileset dir=&quot;$&#123;src.test&#125;&quot; includes=&quot;**/$&#123;testcase&#125;.java&quot; excludes=&quot;system/**/*.java&quot; /&gt;</div><div class="line">      &lt;/batchtest&gt;</div><div class="line">    &lt;/junit&gt;</div><div class="line">    &lt;antcall target=&quot;checkfailure&quot;/&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;!-- Run system tests                                                   --&gt;</div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;target name=&quot;test-system&quot; depends=&quot;compile, compile-test-system, jar&quot;</div><div class="line">     if=&quot;test.system.available&quot;&gt;</div><div class="line">     &lt;delete dir=&quot;$&#123;build.test.system&#125;/extraconf&quot;/&gt;</div><div class="line">     &lt;mkdir dir=&quot;$&#123;build.test.system&#125;/extraconf&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.src.dir&quot; location=&quot;$&#123;hadoop.root&#125;/src/test&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.junit.printsummary&quot; value=&quot;yes&quot; /&gt;</div><div class="line">     &lt;property name=&quot;test.junit.haltonfailure&quot; value=&quot;no&quot; /&gt;</div><div class="line">     &lt;property name=&quot;test.junit.maxmemory&quot; value=&quot;512m&quot; /&gt;</div><div class="line">     &lt;property name=&quot;test.junit.fork.mode&quot; value=&quot;perTest&quot; /&gt;</div><div class="line">     &lt;property name=&quot;test.all.tests.file&quot; value=&quot;$&#123;test.src.dir&#125;/all-tests&quot; /&gt;</div><div class="line">     &lt;property name=&quot;test.build.dir&quot; value=&quot;$&#123;hadoop.root&#125;/build/test&quot;/&gt;</div><div class="line">     &lt;property name=&quot;basedir&quot; value=&quot;$&#123;hadoop.root&#125;&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.timeout&quot; value=&quot;900000&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.junit.output.format&quot; value=&quot;plain&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.tools.input.dir&quot; value=&quot;$&#123;basedir&#125;/src/test/tools/data&quot;/&gt;</div><div class="line">     &lt;property name=&quot;c++.src&quot; value=&quot;$&#123;basedir&#125;/src/c++&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.include&quot; value=&quot;Test*&quot;/&gt;</div><div class="line">     &lt;property name=&quot;c++.libhdfs.src&quot; value=&quot;$&#123;c++.src&#125;/libhdfs&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.build.data&quot; value=&quot;$&#123;build.test.system&#125;/data&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.cache.data&quot; value=&quot;$&#123;build.test.system&#125;/cache&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.debug.data&quot; value=&quot;$&#123;build.test.system&#125;/debug&quot;/&gt;</div><div class="line">     &lt;property name=&quot;test.log.dir&quot; value=&quot;$&#123;build.test.system&#125;/logs&quot;/&gt;</div><div class="line">     &lt;patternset id=&quot;empty.exclude.list.id&quot; /&gt;</div><div class="line">        &lt;exec executable=&quot;sed&quot; inputstring=&quot;$&#123;os.name&#125;&quot;</div><div class="line">            outputproperty=&quot;nonspace.os&quot;&gt;</div><div class="line">          &lt;arg value=&quot;s/ /_/g&quot;/&gt;</div><div class="line">        &lt;/exec&gt;</div><div class="line">     &lt;property name=&quot;build.platform&quot;</div><div class="line">         value=&quot;$&#123;nonspace.os&#125;-$&#123;os.arch&#125;-$&#123;sun.arch.data.model&#125;&quot;/&gt;</div><div class="line">     &lt;property name=&quot;build.native&quot;</div><div class="line">         value=&quot;$&#123;hadoop.root&#125;/build/native/$&#123;build.platform&#125;&quot;/&gt;</div><div class="line">     &lt;property name=&quot;lib.dir&quot; value=&quot;$&#123;hadoop.root&#125;/lib&quot;/&gt;</div><div class="line">     &lt;property name=&quot;install.c++.examples&quot;</div><div class="line">         value=&quot;$&#123;hadoop.root&#125;/build/c++-examples/$&#123;build.platform&#125;&quot;/&gt;</div><div class="line">    &lt;condition property=&quot;tests.testcase&quot;&gt;</div><div class="line">       &lt;and&gt;</div><div class="line">         &lt;isset property=&quot;testcase&quot; /&gt;</div><div class="line">       &lt;/and&gt;</div><div class="line">    &lt;/condition&gt;</div><div class="line">     &lt;property name=&quot;test.junit.jvmargs&quot; value=&quot;-ea&quot; /&gt;</div><div class="line">    &lt;macro-system-test-runner test.file=&quot;$&#123;test.all.tests.file&#125;&quot;</div><div class="line">                     classpath=&quot;test.system.classpath&quot;</div><div class="line">                     test.dir=&quot;$&#123;build.test.system&#125;&quot;</div><div class="line">                     fileset.dir=&quot;$&#123;hadoop.root&#125;/src/contrib/$&#123;name&#125;/src/test/system&quot;</div><div class="line">                     hadoop.conf.dir.deployed=&quot;$&#123;hadoop.conf.dir.deployed&#125;&quot;&gt;</div><div class="line">  &lt;/macro-system-test-runner&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;macrodef name=&quot;macro-system-test-runner&quot;&gt;</div><div class="line">    &lt;attribute name=&quot;test.file&quot; /&gt;</div><div class="line">    &lt;attribute name=&quot;classpath&quot; /&gt;</div><div class="line">    &lt;attribute name=&quot;test.dir&quot; /&gt;</div><div class="line">    &lt;attribute name=&quot;fileset.dir&quot; /&gt;</div><div class="line">    &lt;attribute name=&quot;hadoop.conf.dir.deployed&quot; default=&quot;&quot; /&gt;</div><div class="line">    &lt;sequential&gt;</div><div class="line">      &lt;delete dir=&quot;@&#123;test.dir&#125;/data&quot;/&gt;</div><div class="line">      &lt;mkdir dir=&quot;@&#123;test.dir&#125;/data&quot;/&gt;</div><div class="line">      &lt;delete dir=&quot;@&#123;test.dir&#125;/logs&quot;/&gt;</div><div class="line">      &lt;mkdir dir=&quot;@&#123;test.dir&#125;/logs&quot;/&gt;</div><div class="line">      &lt;copy file=&quot;$&#123;test.src.dir&#125;/hadoop-policy.xml&quot;</div><div class="line">        todir=&quot;@&#123;test.dir&#125;/extraconf&quot; /&gt;</div><div class="line">      &lt;copy file=&quot;$&#123;test.src.dir&#125;/fi-site.xml&quot;</div><div class="line">        todir=&quot;@&#123;test.dir&#125;/extraconf&quot; /&gt;</div><div class="line">      &lt;junit showoutput=&quot;$&#123;test.output&#125;&quot;</div><div class="line">        printsummary=&quot;$&#123;test.junit.printsummary&#125;&quot;</div><div class="line">        haltonfailure=&quot;$&#123;test.junit.haltonfailure&#125;&quot;</div><div class="line">        fork=&quot;yes&quot;</div><div class="line">        forkmode=&quot;$&#123;test.junit.fork.mode&#125;&quot;</div><div class="line">        maxmemory=&quot;$&#123;test.junit.maxmemory&#125;&quot;</div><div class="line">        dir=&quot;$&#123;basedir&#125;&quot; timeout=&quot;$&#123;test.timeout&#125;&quot;</div><div class="line">        errorProperty=&quot;tests.failed&quot; failureProperty=&quot;tests.failed&quot;&gt;</div><div class="line">        &lt;jvmarg value=&quot;$&#123;test.junit.jvmargs&#125;&quot; /&gt;</div><div class="line">        &lt;sysproperty key=&quot;java.net.preferIPv4Stack&quot; value=&quot;true&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;test.build.data&quot; value=&quot;@&#123;test.dir&#125;/data&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;test.tools.input.dir&quot; value = &quot;$&#123;test.tools.input.dir&#125;&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;test.cache.data&quot; value=&quot;$&#123;test.cache.data&#125;&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;test.debug.data&quot; value=&quot;$&#123;test.debug.data&#125;&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;hadoop.log.dir&quot; value=&quot;@&#123;test.dir&#125;/logs&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;test.src.dir&quot; value=&quot;@&#123;fileset.dir&#125;&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;taskcontroller-path&quot; value=&quot;$&#123;taskcontroller-path&#125;&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;taskcontroller-ugi&quot; value=&quot;$&#123;taskcontroller-ugi&#125;&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;test.build.extraconf&quot; value=&quot;@&#123;test.dir&#125;/extraconf&quot; /&gt;</div><div class="line">        &lt;sysproperty key=&quot;hadoop.policy.file&quot; value=&quot;hadoop-policy.xml&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;java.library.path&quot;</div><div class="line">          value=&quot;$&#123;build.native&#125;/lib:$&#123;lib.dir&#125;/native/$&#123;build.platform&#125;&quot;/&gt;</div><div class="line">        &lt;sysproperty key=&quot;install.c++.examples&quot; value=&quot;$&#123;install.c++.examples&#125;&quot;/&gt;</div><div class="line">        &lt;syspropertyset dynamic=&quot;no&quot;&gt;</div><div class="line">          &lt;propertyref name=&quot;hadoop.tmp.dir&quot;/&gt;</div><div class="line">        &lt;/syspropertyset&gt;</div><div class="line">        &lt;!-- set compile.c++ in the child jvm only if it is set --&gt;</div><div class="line">        &lt;syspropertyset dynamic=&quot;no&quot;&gt;</div><div class="line">          &lt;propertyref name=&quot;compile.c++&quot;/&gt;</div><div class="line">        &lt;/syspropertyset&gt;</div><div class="line">        &lt;!-- Pass probability specifications to the spawn JVM --&gt;</div><div class="line">        &lt;syspropertyset id=&quot;FaultProbabilityProperties&quot;&gt;</div><div class="line">          &lt;propertyref regex=&quot;fi.*&quot;/&gt;</div><div class="line">        &lt;/syspropertyset&gt;</div><div class="line">        &lt;sysproperty key=&quot;test.system.hdrc.deployed.hadoopconfdir&quot;</div><div class="line">                     value=&quot;@&#123;hadoop.conf.dir.deployed&#125;&quot; /&gt;</div><div class="line">        &lt;classpath refid=&quot;@&#123;classpath&#125;&quot;/&gt;</div><div class="line">        &lt;formatter type=&quot;$&#123;test.junit.output.format&#125;&quot; /&gt;</div><div class="line">        &lt;batchtest todir=&quot;@&#123;test.dir&#125;&quot; unless=&quot;testcase&quot;&gt;</div><div class="line">          &lt;fileset dir=&quot;@&#123;fileset.dir&#125;&quot;</div><div class="line">            excludes=&quot;**/$&#123;test.exclude&#125;.java aop/** system/**&quot;&gt;</div><div class="line">            &lt;patternset&gt;</div><div class="line">              &lt;includesfile name=&quot;@&#123;test.file&#125;&quot;/&gt;</div><div class="line">            &lt;/patternset&gt;</div><div class="line">          &lt;/fileset&gt;</div><div class="line">        &lt;/batchtest&gt;</div><div class="line">        &lt;batchtest todir=&quot;@&#123;test.dir&#125;&quot; if=&quot;testcase&quot;&gt;</div><div class="line">          &lt;fileset dir=&quot;@&#123;fileset.dir&#125;&quot; includes=&quot;**/$&#123;testcase&#125;.java&quot;/&gt;</div><div class="line">        &lt;/batchtest&gt;</div><div class="line">      &lt;/junit&gt;</div><div class="line">      &lt;antcall target=&quot;checkfailure&quot;/&gt;</div><div class="line">    &lt;/sequential&gt;</div><div class="line">  &lt;/macrodef&gt;</div><div class="line"></div><div class="line"></div><div class="line">  &lt;target name=&quot;checkfailure&quot; if=&quot;tests.failed&quot;&gt;</div><div class="line">    &lt;touch file=&quot;$&#123;build.contrib.dir&#125;/testsfailed&quot;/&gt;</div><div class="line">    &lt;fail unless=&quot;continueOnFailure&quot;&gt;Contrib Tests failed!&lt;/fail&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;!-- Clean.  Delete the build files, and their directories              --&gt;</div><div class="line">  &lt;!-- ================================================================== --&gt;</div><div class="line">  &lt;target name=&quot;clean&quot;&gt;</div><div class="line">    &lt;echo message=&quot;contrib: $&#123;name&#125;&quot;/&gt;</div><div class="line">    &lt;delete dir=&quot;$&#123;build.dir&#125;&quot;/&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;target name=&quot;ivy-probe-antlib&quot; &gt;</div><div class="line">    &lt;condition property=&quot;ivy.found&quot;&gt;</div><div class="line">      &lt;typefound uri=&quot;antlib:org.apache.ivy.ant&quot; name=&quot;cleancache&quot;/&gt;</div><div class="line">    &lt;/condition&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line"></div><div class="line">  &lt;target name=&quot;ivy-download&quot; description=&quot;To download ivy &quot; unless=&quot;offline&quot;&gt;</div><div class="line">    &lt;get src=&quot;$&#123;ivy_repo_url&#125;&quot; dest=&quot;$&#123;ivy.jar&#125;&quot; usetimestamp=&quot;true&quot;/&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;target name=&quot;ivy-init-antlib&quot; depends=&quot;ivy-download,ivy-probe-antlib&quot; unless=&quot;ivy.found&quot;&gt;</div><div class="line">    &lt;typedef uri=&quot;antlib:org.apache.ivy.ant&quot; onerror=&quot;fail&quot;</div><div class="line">      loaderRef=&quot;ivyLoader&quot;&gt;</div><div class="line">      &lt;classpath&gt;</div><div class="line">        &lt;pathelement location=&quot;$&#123;ivy.jar&#125;&quot;/&gt;</div><div class="line">      &lt;/classpath&gt;</div><div class="line">    &lt;/typedef&gt;</div><div class="line">    &lt;fail &gt;</div><div class="line">      &lt;condition &gt;</div><div class="line">        &lt;not&gt;</div><div class="line">          &lt;typefound uri=&quot;antlib:org.apache.ivy.ant&quot; name=&quot;cleancache&quot;/&gt;</div><div class="line">        &lt;/not&gt;</div><div class="line">      &lt;/condition&gt;</div><div class="line">      You need Apache Ivy 2.0 or later from http://ant.apache.org/</div><div class="line">      It could not be loaded from $&#123;ivy_repo_url&#125;</div><div class="line">    &lt;/fail&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;target name=&quot;ivy-init&quot; depends=&quot;ivy-init-antlib&quot;&gt;</div><div class="line">    &lt;ivy:configure settingsid=&quot;$&#123;ant.project.name&#125;.ivy.settings&quot; file=&quot;$&#123;ivysettings.xml&#125;&quot;/&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;target name=&quot;ivy-resolve-common&quot; depends=&quot;ivy-init&quot;&gt;</div><div class="line">    &lt;ivy:resolve settingsRef=&quot;$&#123;ant.project.name&#125;.ivy.settings&quot; conf=&quot;common&quot; log=&quot;$&#123;loglevel&#125;&quot;/&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line"></div><div class="line">  &lt;target name=&quot;ivy-retrieve-common&quot; depends=&quot;ivy-resolve-common&quot;</div><div class="line">    description=&quot;Retrieve Ivy-managed artifacts for the compile/test configurations&quot;&gt;</div><div class="line">    &lt;ivy:retrieve settingsRef=&quot;$&#123;ant.project.name&#125;.ivy.settings&quot;</div><div class="line">      pattern=&quot;$&#123;build.ivy.lib.dir&#125;/$&#123;ivy.artifact.retrieve.pattern&#125;&quot; sync=&quot;true&quot; log=&quot;$&#123;loglevel&#125;&quot;/&gt;</div><div class="line">    &lt;ivy:cachepath pathid=&quot;$&#123;ant.project.name&#125;.common-classpath&quot; conf=&quot;common&quot; /&gt;</div><div class="line">  &lt;/target&gt;</div><div class="line">&lt;/project&gt;</div></pre></td></tr></table></figure>
<h4 id="2-3-hadoop-1-2-1-src-contrib-eclipse-plugin-META-INF-MANIFEST-MF"><a href="#2-3-hadoop-1-2-1-src-contrib-eclipse-plugin-META-INF-MANIFEST-MF" class="headerlink" title="2.3 hadoop-1.2.1\src\contrib\eclipse-plugin\META-INF\MANIFEST.MF"></a>2.3 <strong>hadoop-1.2.1\src\contrib\eclipse-plugin\META-INF\MANIFEST.MF</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">Manifest-Version: 1.0</div><div class="line">Bundle-ManifestVersion: 2</div><div class="line">Bundle-Name: MapReduce Tools for Eclipse</div><div class="line">Bundle-SymbolicName: org.apache.hadoop.eclipse;singleton:=true</div><div class="line">Bundle-Version: 0.18</div><div class="line">Bundle-Activator: org.apache.hadoop.eclipse.Activator</div><div class="line">Bundle-Localization: plugin</div><div class="line">Require-Bundle: org.eclipse.ui,</div><div class="line">org.eclipse.core.runtime,</div><div class="line">org.eclipse.jdt.launching,</div><div class="line">org.eclipse.debug.core,</div><div class="line">org.eclipse.jdt,</div><div class="line">org.eclipse.jdt.core,</div><div class="line">org.eclipse.core.resources,</div><div class="line">org.eclipse.ui.ide,</div><div class="line">org.eclipse.jdt.ui,</div><div class="line">org.eclipse.debug.ui,</div><div class="line">org.eclipse.jdt.debug.ui,</div><div class="line">org.eclipse.core.expressions,</div><div class="line">org.eclipse.ui.cheatsheets,</div><div class="line">org.eclipse.ui.console,</div><div class="line">org.eclipse.ui.navigator,</div><div class="line">org.eclipse.core.filesystem,</div><div class="line">org.apache.commons.logging</div><div class="line">Eclipse-LazyStart: true</div><div class="line">Bundle-ClassPath: classes/,lib/hadoop-core.jar,lib/jackson-core-asl-1.8.8.jar ,lib/jackson-mapper-asl-1.8.8.jar, lib/commons-configuration-1.6.jar,lib/commons-lang-2.4.jar, lib/commons-httpclient-3.0.1.jar,lib/commons-cli-1.2.jar</div><div class="line">Bundle-Vendor: Apache Hadoop</div></pre></td></tr></table></figure>
<h3 id="3-编译"><a href="#3-编译" class="headerlink" title="3. 编译"></a>3. 编译</h3><p>配置文件修改完成后，使用ant进行编译（过程需要联网）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ant D:\hadoop\hadoop-1.2.1\src\contrib\eclipse-plugin\build.xml</div></pre></td></tr></table></figure></p>
</div><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a data-url="http://bysonline.github.io/2016/07/16/编译-hadoop-1.2.1-eclipse-插件/" data-id="cit9eayap009yzg0qgb1lydwu" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Hadoop/">Hadoop</a></div><div class="post-nav"><a href="/2016/07/16/Hbase-0.98.17-hadoop2-安装/" class="pre">hbase-0.98.17-hadoop2 安装</a><a href="/2016/07/16/读书笔记：hadoop权威指南（Hadoop The Definitive Guide）/" class="next">读书笔记：hadoop权威指南（Hadoop The Definitive Guide）</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Elasticsearch/">Elasticsearch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/chinadaas/">chinadaas</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/technology/">technology</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">91</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/14/多线程同步/">多线程同步</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/14/死锁/">死锁</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/13/Linux-定时任务-crontab-命令详解/">Linux 定时任务 crontab 命令详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/风铃企业查询api接口/">风铃企业查询api接口</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/MySQL-备份与还原/">MySQL 备份与还原</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/07/Jmeter-使用入门/">Jmeter 使用入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/05/Scala-学习资料汇总/">Scala 学习资料汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/19/Java-Stream-详解/">Java Stream 详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/19/Java-反射/">Java 反射</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/16/多线程拾遗/">多线程拾遗</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-4-4"><div id="footer">© <a href="/." rel="nofollow">比不写强.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>