<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>MySQL 备份与还原 | 比不写强</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">MySQL 备份与还原</h1><a id="logo" href="/.">比不写强</a><p class="description">Java 编程相关</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/read/"><i class="fa fa-tags"> 阅读</i></a><a href="/guitar/"><i class="fa fa-music"> 吉他屋</i></a><a href="/tags/"><i class="fa fa-tags"> 标签</i></a><a href="/history/"><i class="fa fa-tags"> 历史</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">MySQL 备份与还原</h1><div class="post-meta">Sep 8, 2016<span> | </span><span class="category"><a href="/categories/编程/">编程</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span><span> | </span><span class="tag"><i class="fa fa-paperclip">&nbsp;</i><a href="/tags/MySQL/">MySQL</a></span></div><div class="post-content"><p>使用 mysqldump 命令</p>
<p>备份<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqldump -uroot -p123456 -h 192.168.201.73 meta &gt; meta_dump_`date +%F`.sql</div></pre></td></tr></table></figure></p>
<p>压缩备份<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqldump -uroot -p123456 -h 192.168.201.73 meta | gzip &gt; backupfile.sql.gz</div></pre></td></tr></table></figure></p>
<p>还原<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -uroot -p123456 -h192.168.201.74 meta &lt; backupfile.sql</div></pre></td></tr></table></figure></p>
<p>顺便贴一下 mysqldump 的帮助文档。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div></pre></td><td class="code"><pre><div class="line">[ops@d20 ~]$ mysqldump</div><div class="line">Usage: mysqldump [OPTIONS] database [tables]</div><div class="line">OR     mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...]</div><div class="line">OR     mysqldump [OPTIONS] --all-databases [OPTIONS]</div><div class="line">For more options, use mysqldump --help</div><div class="line">[ops@d20 ~]$ mysqldump --hrlp</div><div class="line">mysqldump: unknown option &apos;--hrlp&apos;</div><div class="line">[ops@d20 ~]$ mysqldump --help</div><div class="line">mysqldump  Ver 10.13 Distrib 5.6.31, for Linux (x86_64)</div><div class="line">Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</div><div class="line"></div><div class="line">Oracle is a registered trademark of Oracle Corporation and/or its</div><div class="line">affiliates. Other names may be trademarks of their respective</div><div class="line">owners.</div><div class="line"></div><div class="line">Dumping structure and contents of MySQL databases and tables.</div><div class="line">Usage: mysqldump [OPTIONS] database [tables]</div><div class="line">OR     mysqldump [OPTIONS] --databases [OPTIONS] DB1 [DB2 DB3...]</div><div class="line">OR     mysqldump [OPTIONS] --all-databases [OPTIONS]</div><div class="line"></div><div class="line">Default options are read from the following files in the given order:</div><div class="line">/etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf</div><div class="line">The following groups are read: mysqldump client</div><div class="line">The following options may be given as the first argument:</div><div class="line">--print-defaults        Print the program argument list and exit.</div><div class="line">--no-defaults           Don&apos;t read default options from any option file,</div><div class="line">                        except for login file.</div><div class="line">--defaults-file=#       Only read default options from the given file #.</div><div class="line">--defaults-extra-file=# Read this file after the global files are read.</div><div class="line">--defaults-group-suffix=#</div><div class="line">                        Also read groups with concat(group, suffix)</div><div class="line">--login-path=#          Read this path from the login file.</div><div class="line">  -A, --all-databases Dump all the databases. This will be same as --databases</div><div class="line">                      with all databases selected.</div><div class="line">  -Y, --all-tablespaces</div><div class="line">                      Dump all the tablespaces.</div><div class="line">  -y, --no-tablespaces</div><div class="line">                      Do not dump any tablespace information.</div><div class="line">  --add-drop-database Add a DROP DATABASE before each create.</div><div class="line">  --add-drop-table    Add a DROP TABLE before each create.</div><div class="line">                      (Defaults to on; use --skip-add-drop-table to disable.)</div><div class="line">  --add-drop-trigger  Add a DROP TRIGGER before each create.</div><div class="line">  --add-locks         Add locks around INSERT statements.</div><div class="line">                      (Defaults to on; use --skip-add-locks to disable.)</div><div class="line">  --allow-keywords    Allow creation of column names that are keywords.</div><div class="line">  --apply-slave-statements</div><div class="line">                      Adds &apos;STOP SLAVE&apos; prior to &apos;CHANGE MASTER&apos; and &apos;START</div><div class="line">                      SLAVE&apos; to bottom of dump.</div><div class="line">  --bind-address=name IP address to bind to.</div><div class="line">  --character-sets-dir=name</div><div class="line">                      Directory for character set files.</div><div class="line">  -i, --comments      Write additional information.</div><div class="line">                      (Defaults to on; use --skip-comments to disable.)</div><div class="line">  --compatible=name   Change the dump to be compatible with a given mode. By</div><div class="line">                      default tables are dumped in a format optimized for</div><div class="line">                      MySQL. Legal modes are: ansi, mysql323, mysql40,</div><div class="line">                      postgresql, oracle, mssql, db2, maxdb, no_key_options,</div><div class="line">                      no_table_options, no_field_options. One can use several</div><div class="line">                      modes separated by commas. Note: Requires MySQL server</div><div class="line">                      version 4.1.0 or higher. This option is ignored with</div><div class="line">                      earlier server versions.</div><div class="line">  --compact           Give less verbose output (useful for debugging). Disables</div><div class="line">                      structure comments and header/footer constructs.  Enables</div><div class="line">                      options --skip-add-drop-table --skip-add-locks</div><div class="line">                      --skip-comments --skip-disable-keys --skip-set-charset.</div><div class="line">  -c, --complete-insert</div><div class="line">                      Use complete insert statements.</div><div class="line">  -C, --compress      Use compression in server/client protocol.</div><div class="line">  -a, --create-options</div><div class="line">                      Include all MySQL specific create options.</div><div class="line">                      (Defaults to on; use --skip-create-options to disable.)</div><div class="line">  -B, --databases     Dump several databases. Note the difference in usage; in</div><div class="line">                      this case no tables are given. All name arguments are</div><div class="line">                      regarded as database names. &apos;USE db_name;&apos; will be</div><div class="line">                      included in the output.</div><div class="line">  -#, --debug[=#]     This is a non-debug version. Catch this and exit.</div><div class="line">  --debug-check       Check memory and open file usage at exit.</div><div class="line">  --debug-info        Print some debug info at exit.</div><div class="line">  --default-character-set=name</div><div class="line">                      Set the default character set.</div><div class="line">  --delayed-insert    Insert rows with INSERT DELAYED.</div><div class="line">  --delete-master-logs</div><div class="line">                      Delete logs on master after backup. This automatically</div><div class="line">                      enables --master-data.</div><div class="line">  -K, --disable-keys  &apos;/*!40000 ALTER TABLE tb_name DISABLE KEYS */; and</div><div class="line">                      &apos;/*!40000 ALTER TABLE tb_name ENABLE KEYS */; will be put</div><div class="line">                      in the output.</div><div class="line">                      (Defaults to on; use --skip-disable-keys to disable.)</div><div class="line">  --dump-slave[=#]    This causes the binary log position and filename of the</div><div class="line">                      master to be appended to the dumped data output. Setting</div><div class="line">                      the value to 1, will printit as a CHANGE MASTER command</div><div class="line">                      in the dumped data output; if equal to 2, that command</div><div class="line">                      will be prefixed with a comment symbol. This option will</div><div class="line">                      turn --lock-all-tables on, unless --single-transaction is</div><div class="line">                      specified too (in which case a global read lock is only</div><div class="line">                      taken a short time at the beginning of the dump - don&apos;t</div><div class="line">                      forget to read about --single-transaction below). In all</div><div class="line">                      cases any action on logs will happen at the exact moment</div><div class="line">                      of the dump.Option automatically turns --lock-tables off.</div><div class="line">  -E, --events        Dump events.</div><div class="line">  -e, --extended-insert</div><div class="line">                      Use multiple-row INSERT syntax that include several</div><div class="line">                      VALUES lists.</div><div class="line">                      (Defaults to on; use --skip-extended-insert to disable.)</div><div class="line">  --fields-terminated-by=name</div><div class="line">                      Fields in the output file are terminated by the given</div><div class="line">                      string.</div><div class="line">  --fields-enclosed-by=name</div><div class="line">                      Fields in the output file are enclosed by the given</div><div class="line">                      character.</div><div class="line">  --fields-optionally-enclosed-by=name</div><div class="line">                      Fields in the output file are optionally enclosed by the</div><div class="line">                      given character.</div><div class="line">  --fields-escaped-by=name</div><div class="line">                      Fields in the output file are escaped by the given</div><div class="line">                      character.</div><div class="line">  -F, --flush-logs    Flush logs file in server before starting dump. Note that</div><div class="line">                      if you dump many databases at once (using the option</div><div class="line">                      --databases= or --all-databases), the logs will be</div><div class="line">                      flushed for each database dumped. The exception is when</div><div class="line">                      using --lock-all-tables or --master-data: in this case</div><div class="line">                      the logs will be flushed only once, corresponding to the</div><div class="line">                      moment all tables are locked. So if you want your dump</div><div class="line">                      and the log flush to happen at the same exact moment you</div><div class="line">                      should use --lock-all-tables or --master-data with</div><div class="line">                      --flush-logs.</div><div class="line">  --flush-privileges  Emit a FLUSH PRIVILEGES statement after dumping the mysql</div><div class="line">                      database.  This option should be used any time the dump</div><div class="line">                      contains the mysql database and any other database that</div><div class="line">                      depends on the data in the mysql database for proper</div><div class="line">                      restore.</div><div class="line">  -f, --force         Continue even if we get an SQL error.</div><div class="line">  -?, --help          Display this help message and exit.</div><div class="line">  --hex-blob          Dump binary strings (BINARY, VARBINARY, BLOB) in</div><div class="line">                      hexadecimal format.</div><div class="line">  -h, --host=name     Connect to host.</div><div class="line">  --ignore-table=name Do not dump the specified table. To specify more than one</div><div class="line">                      table to ignore, use the directive multiple times, once</div><div class="line">                      for each table.  Each table must be specified with both</div><div class="line">                      database and table names, e.g.,</div><div class="line">                      --ignore-table=database.table.</div><div class="line">  --include-master-host-port</div><div class="line">                      Adds &apos;MASTER_HOST=&lt;host&gt;, MASTER_PORT=&lt;port&gt;&apos; to &apos;CHANGE</div><div class="line">                      MASTER TO..&apos; in dump produced with --dump-slave.</div><div class="line">  --insert-ignore     Insert rows with INSERT IGNORE.</div><div class="line">  --lines-terminated-by=name</div><div class="line">                      Lines in the output file are terminated by the given</div><div class="line">                      string.</div><div class="line">  -x, --lock-all-tables</div><div class="line">                      Locks all tables across all databases. This is achieved</div><div class="line">                      by taking a global read lock for the duration of the</div><div class="line">                      whole dump. Automatically turns --single-transaction and</div><div class="line">                      --lock-tables off.</div><div class="line">  -l, --lock-tables   Lock all tables for read.</div><div class="line">                      (Defaults to on; use --skip-lock-tables to disable.)</div><div class="line">  --log-error=name    Append warnings and errors to given file.</div><div class="line">  --master-data[=#]   This causes the binary log position and filename to be</div><div class="line">                      appended to the output. If equal to 1, will print it as a</div><div class="line">                      CHANGE MASTER command; if equal to 2, that command will</div><div class="line">                      be prefixed with a comment symbol. This option will turn</div><div class="line">                      --lock-all-tables on, unless --single-transaction is</div><div class="line">                      specified too (in which case a global read lock is only</div><div class="line">                      taken a short time at the beginning of the dump; don&apos;t</div><div class="line">                      forget to read about --single-transaction below). In all</div><div class="line">                      cases, any action on logs will happen at the exact moment</div><div class="line">                      of the dump. Option automatically turns --lock-tables</div><div class="line">                      off.</div><div class="line">  --max-allowed-packet=#</div><div class="line">                      The maximum packet length to send to or receive from</div><div class="line">                      server.</div><div class="line">  --net-buffer-length=#</div><div class="line">                      The buffer size for TCP/IP and socket communication.</div><div class="line">  --no-autocommit     Wrap tables with autocommit/commit statements.</div><div class="line">  -n, --no-create-db  Suppress the CREATE DATABASE ... IF EXISTS statement that</div><div class="line">                      normally is output for each dumped database if</div><div class="line">                      --all-databases or --databases is given.</div><div class="line">  -t, --no-create-info</div><div class="line">                      Don&apos;t write table creation info.</div><div class="line">  -d, --no-data       No row information.</div><div class="line">  -N, --no-set-names  Same as --skip-set-charset.</div><div class="line">  --opt               Same as --add-drop-table, --add-locks, --create-options,</div><div class="line">                      --quick, --extended-insert, --lock-tables, --set-charset,</div><div class="line">                      and --disable-keys. Enabled by default, disable with</div><div class="line">                      --skip-opt.</div><div class="line">  --order-by-primary  Sorts each table&apos;s rows by primary key, or first unique</div><div class="line">                      key, if such a key exists.  Useful when dumping a MyISAM</div><div class="line">                      table to be loaded into an InnoDB table, but will make</div><div class="line">                      the dump itself take considerably longer.</div><div class="line">  -p, --password[=name]</div><div class="line">                      Password to use when connecting to server. If password is</div><div class="line">                      not given it&apos;s solicited on the tty.</div><div class="line">  -P, --port=#        Port number to use for connection.</div><div class="line">  --protocol=name     The protocol to use for connection (tcp, socket, pipe,</div><div class="line">                      memory).</div><div class="line">  -q, --quick         Don&apos;t buffer query, dump directly to stdout.</div><div class="line">                      (Defaults to on; use --skip-quick to disable.)</div><div class="line">  -Q, --quote-names   Quote table and column names with backticks (`).</div><div class="line">                      (Defaults to on; use --skip-quote-names to disable.)</div><div class="line">  --replace           Use REPLACE INTO instead of INSERT INTO.</div><div class="line">  -r, --result-file=name</div><div class="line">                      Direct output to a given file. This option should be used</div><div class="line">                      in systems (e.g., DOS, Windows) that use carriage-return</div><div class="line">                      linefeed pairs (\r\n) to separate text lines. This option</div><div class="line">                      ensures that only a single newline is used.</div><div class="line">  -R, --routines      Dump stored routines (functions and procedures).</div><div class="line">  --set-charset       Add &apos;SET NAMES default_character_set&apos; to the output.</div><div class="line">                      (Defaults to on; use --skip-set-charset to disable.)</div><div class="line">  --set-gtid-purged[=name]</div><div class="line">                      Add &apos;SET @@GLOBAL.GTID_PURGED&apos; to the output. Possible</div><div class="line">                      values for this option are ON, OFF and AUTO. If ON is</div><div class="line">                      used and GTIDs are not enabled on the server, an error is</div><div class="line">                      generated. If OFF is used, this option does nothing. If</div><div class="line">                      AUTO is used and GTIDs are enabled on the server, &apos;SET</div><div class="line">                      @@GLOBAL.GTID_PURGED&apos; is added to the output. If GTIDs</div><div class="line">                      are disabled, AUTO does nothing. If no value is supplied</div><div class="line">                      then the default (AUTO) value will be considered.</div><div class="line">  --single-transaction</div><div class="line">                      Creates a consistent snapshot by dumping all tables in a</div><div class="line">                      single transaction. Works ONLY for tables stored in</div><div class="line">                      storage engines which support multiversioning (currently</div><div class="line">                      only InnoDB does); the dump is NOT guaranteed to be</div><div class="line">                      consistent for other storage engines. While a</div><div class="line">                      --single-transaction dump is in process, to ensure a</div><div class="line">                      valid dump file (correct table contents and binary log</div><div class="line">                      position), no other connection should use the following</div><div class="line">                      statements: ALTER TABLE, DROP TABLE, RENAME TABLE,</div><div class="line">                      TRUNCATE TABLE, as consistent snapshot is not isolated</div><div class="line">                      from them. Option automatically turns off --lock-tables.</div><div class="line">  --dump-date         Put a dump date to the end of the output.</div><div class="line">                      (Defaults to on; use --skip-dump-date to disable.)</div><div class="line">  --skip-opt          Disable --opt. Disables --add-drop-table, --add-locks,</div><div class="line">                      --create-options, --quick, --extended-insert,</div><div class="line">                      --lock-tables, --set-charset, and --disable-keys.</div><div class="line">  -S, --socket=name   The socket file to use for connection.</div><div class="line">  --secure-auth       Refuse client connecting to server if it uses old</div><div class="line">                      (pre-4.1.1) protocol.</div><div class="line">                      (Defaults to on; use --skip-secure-auth to disable.)</div><div class="line">  --ssl               Enable SSL for connection (automatically enabled with</div><div class="line">                      other flags).</div><div class="line">  --ssl-ca=name       CA file in PEM format (check OpenSSL docs, implies</div><div class="line">                      --ssl).</div><div class="line">  --ssl-capath=name   CA directory (check OpenSSL docs, implies --ssl).</div><div class="line">  --ssl-cert=name     X509 cert in PEM format (implies --ssl).</div><div class="line">  --ssl-cipher=name   SSL cipher to use (implies --ssl).</div><div class="line">  --ssl-key=name      X509 key in PEM format (implies --ssl).</div><div class="line">  --ssl-crl=name      Certificate revocation list (implies --ssl).</div><div class="line">  --ssl-crlpath=name  Certificate revocation list path (implies --ssl).</div><div class="line">  --ssl-verify-server-cert</div><div class="line">                      Verify server&apos;s &quot;Common Name&quot; in its cert against</div><div class="line">                      hostname used when connecting. This option is disabled by</div><div class="line">                      default.</div><div class="line">  --ssl-mode=name     SSL connection mode.</div><div class="line">  -T, --tab=name      Create tab-separated textfile for each table to given</div><div class="line">                      path. (Create .sql and .txt files.) NOTE: This only works</div><div class="line">                      if mysqldump is run on the same machine as the mysqld</div><div class="line">                      server.</div><div class="line">  --tables            Overrides option --databases (-B).</div><div class="line">  --triggers          Dump triggers for each dumped table.</div><div class="line">                      (Defaults to on; use --skip-triggers to disable.)</div><div class="line">  --tz-utc            SET TIME_ZONE=&apos;+00:00&apos; at top of dump to allow dumping of</div><div class="line">                      TIMESTAMP data when a server has data in different time</div><div class="line">                      zones or data is being moved between servers with</div><div class="line">                      different time zones.</div><div class="line">                      (Defaults to on; use --skip-tz-utc to disable.)</div><div class="line">  -u, --user=name     User for login if not current user.</div><div class="line">  -v, --verbose       Print info about the various stages.</div><div class="line">  -V, --version       Output version information and exit.</div><div class="line">  -w, --where=name    Dump only selected records. Quotes are mandatory.</div><div class="line">  -X, --xml           Dump a database as well formed XML.</div><div class="line">  --plugin-dir=name   Directory for client-side plugins.</div><div class="line">  --default-auth=name Default authentication client-side plugin to use.</div><div class="line">  --enable-cleartext-plugin</div><div class="line">                      Enable/disable the clear text authentication plugin.</div><div class="line"></div><div class="line">Variables (--variable-name=value)</div><div class="line">and boolean options &#123;FALSE|TRUE&#125;  Value (after reading options)</div><div class="line">--------------------------------- ----------------------------------------</div><div class="line">all-databases                     FALSE</div><div class="line">all-tablespaces                   FALSE</div><div class="line">no-tablespaces                    FALSE</div><div class="line">add-drop-database                 FALSE</div><div class="line">add-drop-table                    TRUE</div><div class="line">add-drop-trigger                  FALSE</div><div class="line">add-locks                         TRUE</div><div class="line">allow-keywords                    FALSE</div><div class="line">apply-slave-statements            FALSE</div><div class="line">bind-address                      (No default value)</div><div class="line">character-sets-dir                (No default value)</div><div class="line">comments                          TRUE</div><div class="line">compatible                        (No default value)</div><div class="line">compact                           FALSE</div><div class="line">complete-insert                   FALSE</div><div class="line">compress                          FALSE</div><div class="line">create-options                    TRUE</div><div class="line">databases                         FALSE</div><div class="line">debug-check                       FALSE</div><div class="line">debug-info                        FALSE</div><div class="line">default-character-set             utf8</div><div class="line">delayed-insert                    FALSE</div><div class="line">delete-master-logs                FALSE</div><div class="line">disable-keys                      TRUE</div><div class="line">dump-slave                        0</div><div class="line">events                            FALSE</div><div class="line">extended-insert                   TRUE</div><div class="line">fields-terminated-by              (No default value)</div><div class="line">fields-enclosed-by                (No default value)</div><div class="line">fields-optionally-enclosed-by     (No default value)</div><div class="line">fields-escaped-by                 (No default value)</div><div class="line">flush-logs                        FALSE</div><div class="line">flush-privileges                  FALSE</div><div class="line">force                             FALSE</div><div class="line">hex-blob                          FALSE</div><div class="line">host                              (No default value)</div><div class="line">include-master-host-port          FALSE</div><div class="line">insert-ignore                     FALSE</div><div class="line">lines-terminated-by               (No default value)</div><div class="line">lock-all-tables                   FALSE</div><div class="line">lock-tables                       TRUE</div><div class="line">log-error                         (No default value)</div><div class="line">master-data                       0</div><div class="line">max-allowed-packet                25165824</div><div class="line">net-buffer-length                 1046528</div><div class="line">no-autocommit                     FALSE</div><div class="line">no-create-db                      FALSE</div><div class="line">no-create-info                    FALSE</div><div class="line">no-data                           FALSE</div><div class="line">order-by-primary                  FALSE</div><div class="line">port                              0</div><div class="line">quick                             TRUE</div><div class="line">quote-names                       TRUE</div><div class="line">replace                           FALSE</div><div class="line">routines                          FALSE</div><div class="line">set-charset                       TRUE</div><div class="line">single-transaction                FALSE</div><div class="line">dump-date                         TRUE</div><div class="line">socket                            (No default value)</div><div class="line">secure-auth                       TRUE</div><div class="line">ssl                               FALSE</div><div class="line">ssl-ca                            (No default value)</div><div class="line">ssl-capath                        (No default value)</div><div class="line">ssl-cert                          (No default value)</div><div class="line">ssl-cipher                        (No default value)</div><div class="line">ssl-key                           (No default value)</div><div class="line">ssl-crl                           (No default value)</div><div class="line">ssl-crlpath                       (No default value)</div><div class="line">ssl-verify-server-cert            FALSE</div><div class="line">tab                               (No default value)</div><div class="line">triggers                          TRUE</div><div class="line">tz-utc                            TRUE</div><div class="line">user                              (No default value)</div><div class="line">verbose                           FALSE</div><div class="line">where                             (No default value)</div><div class="line">plugin-dir                        (No default value)</div><div class="line">default-auth                      (No default value)</div><div class="line">enable-cleartext-plugin           FALSE</div></pre></td></tr></table></figure></p>
</div><script type="text/javascript" src="/js/share.js?v=1.0.0" async></script><a data-url="http://bysonline.github.io/2016/09/08/MySQL-备份与还原/" data-id="cit2iiu80003wey0q0hi4odhk" class="article-share-link">分享到</a><div class="tags"><a href="/tags/MySQL/">MySQL</a></div><div class="post-nav"><a href="/2016/09/08/风铃企业查询api接口/" class="pre">风铃企业查询api接口</a><a href="/2016/09/07/Jmeter-使用入门/" class="next">Jmeter 使用入门</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Elasticsearch/">Elasticsearch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/chinadaas/">chinadaas</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/technology/">technology</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程/">编程</a><span class="category-list-count">90</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/13/Linux-定时任务-crontab-命令详解/">Linux 定时任务 crontab 命令详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/风铃企业查询api接口/">风铃企业查询api接口</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/MySQL-备份与还原/">MySQL 备份与还原</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/07/Jmeter-使用入门/">Jmeter 使用入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/05/Scala-学习资料汇总/">Scala 学习资料汇总</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/19/Java-Stream-详解/">Java Stream 详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/19/Java-反射/">Java 反射</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/16/多线程拾遗/">多线程拾遗</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/09/HashMap-的工作原理/">HashMap 的工作原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/08/Java-中的回调函数/">Java 中的回调函数</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-4-4"><div id="footer">© <a href="/." rel="nofollow">比不写强.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>